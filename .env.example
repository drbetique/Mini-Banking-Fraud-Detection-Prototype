# ======================================================
# FRAUD DETECTION SYSTEM - ENVIRONMENT CONFIGURATION
# ======================================================
#
# SECURITY NOTICE:
# - Copy this file to .env and fill in with actual values
# - NEVER commit .env to version control
# - Use strong, unique passwords for production
# - Rotate API keys regularly
#
# ======================================================

# ==================== DATABASE ====================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://user:CHANGE_THIS_PASSWORD@localhost/bankdb

# ==================== API SECURITY ====================
# API key for authenticating requests to the fraud detection API
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
AZURE_API_KEY=CHANGE_THIS_TO_SECURE_RANDOM_KEY
API_KEY=CHANGE_THIS_TO_SECURE_RANDOM_KEY

# ==================== KAFKA ====================
# Kafka broker connection
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC=transactions_topic

# ==================== MLFLOW ====================
# MLflow tracking server URL
MLFLOW_TRACKING_URI=http://localhost:5001

# ==================== MONITORING ====================
# Prometheus metrics port for detection service
PROMETHEUS_PORT=8001

# ==================== REDIS CACHE ====================
# Redis connection settings for API performance caching
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=your-redis-password  # Uncomment if Redis requires authentication
REDIS_POOL_SIZE=10

# Cache TTL (time-to-live) in seconds
CACHE_TTL_ANOMALIES=60    # Cache anomaly queries for 60 seconds
CACHE_TTL_SHORT=30        # Short TTL for frequently changing data

# ==================== FRONTEND ====================
# API base URL for frontend applications
API_BASE=http://localhost:8000/api/v1

# CORS origin (use specific domain in production)
# Example: FRONTEND_ORIGIN=https://fraud-dashboard.example.com
FRONTEND_ORIGIN=*

# ==================== STRIPE INTEGRATION ====================
# Stripe API key for payment transaction integration
# Get your test key from: https://dashboard.stripe.com/test/apikeys
# For production, use live key: https://dashboard.stripe.com/apikeys
STRIPE_API_KEY=sk_test_YOUR_STRIPE_TEST_KEY_HERE

# ==================== ENVIRONMENT ====================
# Environment type: development, staging, production
ENVIRONMENT=development

# ==================== OPTIONAL CONFIGURATIONS ====================

# Transaction stream delay (seconds) for producer
STREAM_DELAY_SECONDS=2

# Database Connection Pool Settings (optional)
# DB_POOL_SIZE=10
# DB_MAX_OVERFLOW=20

# ==================== FRAUD ALERT NOTIFICATIONS ====================
# Configure one or more channels to receive real-time fraud alerts

# Slack Webhook (recommended for team notifications)
# Get webhook URL from: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Discord Webhook (for Discord-based teams)
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/TOKEN

# Microsoft Teams Webhook (for Teams-based organizations)
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR_WEBHOOK_URL

# Custom Webhook (any HTTP endpoint)
# CUSTOM_WEBHOOK_URL=https://your-api.com/fraud-alerts

# Email Notifications via SMTP
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# EMAIL_FROM=fraud-alerts@yourcompany.com
# EMAIL_TO=security-team@yourcompany.com,fraud-analyst@yourcompany.com

# Alert Thresholds
# HIGH_RISK_THRESHOLD=0.8        # Score above this triggers HIGH alerts
# CRITICAL_RISK_THRESHOLD=0.9    # Score above this triggers CRITICAL alerts
# HIGH_VALUE_THRESHOLD=5000.0    # Amount above this triggers HIGH alerts

# ======================================================
# PRODUCTION DEPLOYMENT CHECKLIST:
# ======================================================
#
# [ ] Changed all default passwords
# [ ] Generated strong API keys (min 32 characters)
# [ ] Set FRONTEND_ORIGIN to specific domain (not *)
# [ ] Using live Stripe API key (not test key)
# [ ] ENVIRONMENT set to 'production'
# [ ] Configured alert notifications (Slack/PagerDuty/Email)
# [ ] Enabled TLS/SSL for all connections
# [ ] Set up secret rotation schedule
# [ ] Configured database backups
# [ ] Set up log aggregation
#
# ======================================================
